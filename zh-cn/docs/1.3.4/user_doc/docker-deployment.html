<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="keywords" content="docker-deployment">
  <meta name="description" content="docker-deployment">
  <title>docker-deployment</title>
  <link rel="shortcut icon" href="/img/favicon.ico">
  <link rel="stylesheet" href="/build/vendor.57fae06.css">
</head>
<body>
  <div id="root"><div class="md2html docs-page" data-reactroot=""><header class="header-container header-container-dark"><div class="header-body"><a href="/zh-cn/index.html"><img class="logo" src="/img/hlogo_white.svg"/></a><div class="search search-dark"><span class="icon-search"></span></div><span class="language-switch language-switch-dark">En</span><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_white.png"/><div><ul class="ant-menu whiteClass ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/index.html" target="_self">首页</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-item-selected" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span class="submenu-title-wrapper"><a href="/zh-cn/docs/latest/user_doc/quick-start.html" target="_self">文档</a><ul style="display:none"><li><a href="/zh-cn/docs/latest/user_doc/quick-start.html" target="_self">latest(1.3.6)</a></li><li><a href="/zh-cn/docs/1.3.6/user_doc/quick-start.html" target="_self">1.3.6</a></li><li><a href="/zh-cn/docs/1.3.5/user_doc/quick-start.html" target="_self">1.3.5</a></li><li><a href="/zh-cn/docs/1.3.4/user_doc/quick-start.html" target="_self">1.3.4</a></li><li><a href="/zh-cn/docs/1.3.3/user_doc/quick-start.html" target="_self">1.3.3</a></li><li><a href="/zh-cn/docs/1.3.2/user_doc/quick-start.html" target="_self">1.3.2</a></li><li><a href="/zh-cn/docs/1.3.1/user_doc/quick-start.html" target="_self">1.3.1</a></li><li><a href="/zh-cn/docs/1.2.1/user_doc/quick-start.html" target="_self">1.2.1</a></li><li><a href="/zh-cn/docs/1.2.0/user_doc/quick-start.html" target="_self">1.2.0</a></li><li><a href="https://analysys.github.io/easyscheduler_docs_cn/" target="_self">1.1.0(Not Apache Release)</a></li></ul></span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/download/download.html" target="_self">下载</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/blog/index.html" target="_self">博客</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/development/development-environment-setup.html" target="_self">开发者</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/community/index.html" target="_self">社区</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span class="submenu-title-wrapper"><a href="https://www.apache.org/" target="_blank">ASF</a><ul style="display:none"><li><a href="https://www.apache.org/" target="_blank">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank">License</a></li><li><a href="https://www.apache.org/events/current-event" target="_blank">Events</a></li><li><a href="https://www.apache.org/security/" target="_blank">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank">Thanks</a></li></ul></span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></div></div></div></header><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>部署文档</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/hardware-environment.html" target="_self">软硬件环境建议配置</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/standalone-deployment.html" target="_self">单机部署(Standalone)</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/cluster-deployment.html" target="_self">集群部署(Cluster)</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/docker-deployment.html" target="_self">Docker部署(Docker)</a></li></ul></li><li class="menu-item menu-item-level-1"><span>用户手册</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/quick-start.html" target="_self">快速上手</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/system-manual.html" target="_self">用户手册</a></li></ul></li><li class="menu-item menu-item-level-1"><span>架构设计</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/metadata-1.3.html" target="_self">元数据文档</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/architecture-design.html" target="_self">架构设计</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/configuration-file.html" target="_self">配置文件</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/task-structure.html" target="_self">任务结构</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/load-balance.html" target="_self">负载均衡</a></li></ul></li><li class="menu-item menu-item-level-1"><span>版本升级</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/upgrade.html" target="_self">升级</a></li></ul></li><li class="menu-item menu-item-level-1"><span>扩/缩容</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/1.3.4/user_doc/expansion-reduction.html" target="_self">扩/缩容</a></li></ul></li><li class="menu-item menu-item-level-1"><span>FAQ</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/release/faq.html" target="_self">FAQ</a></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>快速试用 Docker 部署</h1>
<h2>先决条件</h2>
<ul>
<li><a href="https://docs.docker.com/engine/install/">Docker</a> 1.13.1+</li>
<li><a href="https://docs.docker.com/compose/">Docker Compose</a> 1.11.0+</li>
</ul>
<h2>如何使用 Docker 镜像</h2>
<p>有 3 种方式可以快速试用 DolphinScheduler</p>
<h3>一、以 docker-compose 的方式启动 DolphinScheduler (推荐)</h3>
<p>这种方式需要先安装 <a href="https://docs.docker.com/compose/">docker-compose</a> , docker-compose 的安装网上已经有非常多的资料，请自行安装即可</p>
<h4>1、下载源码包</h4>
<p>请下载最新版本的源码包，下载地址: <a href="/zh-cn/download/download.html">下载</a></p>
<p>下载 apache-dolphinscheduler-incubating-1.3.4-src.zip 后，解压缩</p>
<pre><code class="language-shell"><span class="hljs-meta">$</span><span class="bash"> unzip apache-dolphinscheduler-incubating-1.3.4-src.zip</span>
</code></pre>
<h4>2、安装并启动服务</h4>
<pre><code class="language-shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> apache-dolphinscheduler-incubating-1.3.4-src-release/docker/docker-swarm</span>
<span class="hljs-meta">$</span><span class="bash"> docker-compose up -d</span>
</code></pre>
<h4>3、登录系统</h4>
<p>访问前端页面： <a href="http://192.168.xx.xx:8888">http://192.168.xx.xx:8888</a></p>
<p>默认的用户是<code>admin</code>，默认的密码是<code>dolphinscheduler123</code></p>
<p align="center">
  <img src="/img/login.png" width="60%" />
</p>
<p>请参考用户手册章节的<a href="/zh-cn/docs/1.3.4/user_doc/quick-start.html">快速上手</a>查看如何使用DolphinScheduler</p>
<h3>二、通过指定已存在的 PostgreSQL 和 ZooKeeper 服务</h3>
<p>这种方式需要先安装 <a href="https://docs.docker.com/engine/install/">docker</a>, docker 的安装网上已经有非常多的资料，请自行安装即可</p>
<h4>1、基础软件安装 (请自行安装)</h4>
<ul>
<li>PostgreSQL (8.2.15+)</li>
<li>ZooKeeper (3.4.6+)</li>
<li>Docker (1.13.1+)</li>
</ul>
<h4>2、请登录 PostgreSQL 数据库，创建名为 <code>dolphinscheduler</code> 数据库</h4>
<h4>3、初始化数据库，导入 <code>sql/dolphinscheduler-postgre.sql</code> 进行创建表及基础数据导入</h4>
<h4>4、下载 DolphinScheduler 镜像</h4>
<p>我们已将面向用户的 DolphinScheduler 镜像上传至 docker 仓库，用户无需在本地构建镜像，直接执行以下命令从 docker 仓库 pull 镜像：</p>
<pre><code>docker pull apache/dolphinscheduler:1.3.4
</code></pre>
<h4>5、运行一个 DolphinScheduler 实例</h4>
<pre><code>$ docker run -d --name dolphinscheduler \
-e DATABASE_HOST=&quot;192.168.x.x&quot; -e DATABASE_PORT=&quot;5432&quot; -e DATABASE_DATABASE=&quot;dolphinscheduler&quot; \
-e DATABASE_USERNAME=&quot;test&quot; -e DATABASE_PASSWORD=&quot;test&quot; \
-e ZOOKEEPER_QUORUM=&quot;192.168.x.x:2181&quot; \
-p 8888:8888 \
apache/dolphinscheduler:1.3.4 all
</code></pre>
<p>注：数据库用户和密码需要替换为具体的数据库用户名和密码，192.168.x.x 需要替换为 zookeeper 和 数据库的主机 IP</p>
<h4>6、登录系统</h4>
<p>同上</p>
<h3>三、运行 DolphinScheduler 中的独立服务</h3>
<p>在容器启动时，会自动启动以下服务：</p>
<pre><code>    MasterServer         ----- master服务
    WorkerServer         ----- worker服务
    LoggerServer         ----- logger服务
    ApiApplicationServer ----- api服务
    AlertServer          ----- alert服务
</code></pre>
<p>如果你只是想运行 dolphinscheduler 中的部分服务</p>
<p>你可以够通执行以下命令来运行dolphinscheduler中的部分服务</p>
<ul>
<li>启动一个 <strong>master server</strong>, 如下:</li>
</ul>
<pre><code>$ docker run -d --name dolphinscheduler-master \
-e DATABASE_HOST=&quot;192.168.x.x&quot; -e DATABASE_PORT=&quot;5432&quot; -e DATABASE_DATABASE=&quot;dolphinscheduler&quot; \
-e DATABASE_USERNAME=&quot;test&quot; -e DATABASE_PASSWORD=&quot;test&quot; \
-e ZOOKEEPER_QUORUM=&quot;192.168.x.x:2181&quot; \
apache/dolphinscheduler:1.3.4 master-server
</code></pre>
<ul>
<li>启动一个 <strong>worker server</strong> (包括 <strong>logger server</strong>), 如下:</li>
</ul>
<pre><code>$ docker run -d --name dolphinscheduler-worker \
-e DATABASE_HOST=&quot;192.168.x.x&quot; -e DATABASE_PORT=&quot;5432&quot; -e DATABASE_DATABASE=&quot;dolphinscheduler&quot; \
-e DATABASE_USERNAME=&quot;test&quot; -e DATABASE_PASSWORD=&quot;test&quot; \
-e ZOOKEEPER_QUORUM=&quot;192.168.x.x:2181&quot; \
apache/dolphinscheduler:1.3.4 worker-server
</code></pre>
<ul>
<li>启动一个 <strong>api server</strong>, 如下:</li>
</ul>
<pre><code>$ docker run -d --name dolphinscheduler-api \
-e DATABASE_HOST=&quot;192.168.x.x&quot; -e DATABASE_PORT=&quot;5432&quot; -e DATABASE_DATABASE=&quot;dolphinscheduler&quot; \
-e DATABASE_USERNAME=&quot;test&quot; -e DATABASE_PASSWORD=&quot;test&quot; \
-e ZOOKEEPER_QUORUM=&quot;192.168.x.x:2181&quot; \
-p 12345:12345 \
apache/dolphinscheduler:1.3.4 api-server
</code></pre>
<ul>
<li>启动一个 <strong>alert server</strong>, 如下:</li>
</ul>
<pre><code>$ docker run -d --name dolphinscheduler-alert \
-e DATABASE_HOST=&quot;192.168.x.x&quot; -e DATABASE_PORT=&quot;5432&quot; -e DATABASE_DATABASE=&quot;dolphinscheduler&quot; \
-e DATABASE_USERNAME=&quot;test&quot; -e DATABASE_PASSWORD=&quot;test&quot; \
apache/dolphinscheduler:1.3.4 alert-server
</code></pre>
<ul>
<li>启动一个 <strong>frontend</strong>, 如下:</li>
</ul>
<pre><code>$ docker run -d --name dolphinscheduler-frontend \
-e FRONTEND_API_SERVER_HOST=&quot;192.168.x.x&quot; -e FRONTEND_API_SERVER_PORT=&quot;12345&quot; \
-p 8888:8888 \
apache/dolphinscheduler:1.3.4 frontend
</code></pre>
<p><strong>注意</strong>: 当你运行dolphinscheduler中的部分服务时，你必须指定这些环境变量 <code>DATABASE_HOST</code>, <code>DATABASE_PORT</code>, <code>DATABASE_DATABASE</code>, <code>DATABASE_USERNAME</code>, <code>DATABASE_PASSWORD</code>, <code>ZOOKEEPER_QUORUM</code>。</p>
</div></section><footer class="footer-container"><div class="footer-body"><img src="/img/ds_gray.svg"/><div class="cols-container"><div class="col col-12"></div><div class="col col-6"><dl><dt>文档</dt><dd><a href="/zh-cn/development/architecture-design.html" target="_self">概览</a></dd><dd><a href="/zh-cn/docs/latest/user_doc/quick-start.html" target="_self">快速开始</a></dd><dd><a href="/zh-cn/development/backend-development.html" target="_self">开发者指南</a></dd></dl></div><div class="col col-6"><dl><dt>ASF</dt><dd><a href="http://www.apache.org" target="_self">基金会</a></dd><dd><a href="http://www.apache.org/licenses/" target="_self">证书</a></dd><dd><a href="http://www.apache.org/events/current-event" target="_self">事件</a></dd><dd><a href="http://www.apache.org/foundation/sponsorship.html" target="_self">赞助</a></dd><dd><a href="http://www.apache.org/foundation/thanks.html" target="_self">致谢</a></dd></dl></div></div><div class="copyright"><span>Copyright © 2019-2021 The Apache Software Foundation. Apache DolphinScheduler, DolphinScheduler, and its feather logo are trademarks of The Apache Software Foundation.</span></div></div></footer></div></div>
  <script src="//cdn.jsdelivr.net/npm/react@15.6.2/dist/react-with-addons.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/react-dom@15.6.2/dist/react-dom.min.js"></script>
  <script>window.rootPath = '';</script>
  <script src="/build/vendor.c25d3e2.js"></script>
  <script src="/build/docs.md.5c131fe.js"></script>
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?4e7b4b400dd31fa015018a435c64d06f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
</body>
</html>