<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="keywords" content="docker-deployment">
  <meta name="description" content="docker-deployment">
  <title>docker-deployment</title>
  <link rel="shortcut icon" href="/img/favicon.ico">
  <link rel="stylesheet" href="/build/vendor.57fae06.css">
</head>
<body>
  <div id="root"><div class="md2html docs-page" data-reactroot=""><header class="header-container header-container-dark"><div class="header-body"><a href="/zh-cn/index.html"><img class="logo" src="/img/hlogo_white.svg"/></a><div class="search search-dark"><span class="icon-search"></span></div><span class="language-switch language-switch-dark">En</span><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_white.png"/><div><ul class="ant-menu whiteClass ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/index.html" target="_self">首页</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-item-selected" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span class="submenu-title-wrapper"><a href="/zh-cn/docs/latest/user_doc/quick-start.html" target="_self">文档</a><ul style="display:none"><li><a href="/zh-cn/docs/latest/user_doc/quick-start.html" target="_self">latest(1.3.6)</a></li><li><a href="/zh-cn/docs/1.3.6/user_doc/quick-start.html" target="_self">1.3.6</a></li><li><a href="/zh-cn/docs/1.3.5/user_doc/quick-start.html" target="_self">1.3.5</a></li><li><a href="/zh-cn/docs/1.3.4/user_doc/quick-start.html" target="_self">1.3.4</a></li><li><a href="/zh-cn/docs/1.3.3/user_doc/quick-start.html" target="_self">1.3.3</a></li><li><a href="/zh-cn/docs/1.3.2/user_doc/quick-start.html" target="_self">1.3.2</a></li><li><a href="/zh-cn/docs/1.3.1/user_doc/quick-start.html" target="_self">1.3.1</a></li><li><a href="/zh-cn/docs/1.2.1/user_doc/quick-start.html" target="_self">1.2.1</a></li><li><a href="/zh-cn/docs/1.2.0/user_doc/quick-start.html" target="_self">1.2.0</a></li><li><a href="https://analysys.github.io/easyscheduler_docs_cn/" target="_self">1.1.0(Not Apache Release)</a></li></ul></span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/download/download.html" target="_self">下载</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/blog/index.html" target="_self">博客</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/development/development-environment-setup.html" target="_self">开发者</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/community/index.html" target="_self">社区</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span class="submenu-title-wrapper"><a href="https://www.apache.org/" target="_blank">ASF</a><ul style="display:none"><li><a href="https://www.apache.org/" target="_blank">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank">License</a></li><li><a href="https://www.apache.org/events/current-event" target="_blank">Events</a></li><li><a href="https://www.apache.org/security/" target="_blank">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank">Thanks</a></li></ul></span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></div></div></div></header><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>部署文档</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/hardware-environment.html" target="_self">软硬件环境建议配置</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/standalone-deployment.html" target="_self">单机部署(Standalone)</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/cluster-deployment.html" target="_self">集群部署(Cluster)</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/docker-deployment.html" target="_self">Docker部署(Docker)</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/kubernetes-deployment.html" target="_self">Kubernetes部署(Kubernetes)</a></li></ul></li><li class="menu-item menu-item-level-1"><span>用户手册</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/quick-start.html" target="_self">快速上手</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/system-manual.html" target="_self">用户手册</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/open-api.html" target="_self">API调用</a></li></ul></li><li class="menu-item menu-item-level-1"><span>架构设计</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/metadata-1.3.html" target="_self">元数据文档</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/architecture-design.html" target="_self">架构设计</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/configuration-file.html" target="_self">配置文件</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/task-structure.html" target="_self">任务结构</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/load-balance.html" target="_self">负载均衡</a></li></ul></li><li class="menu-item menu-item-level-1"><span>版本升级</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/upgrade.html" target="_self">升级</a></li></ul></li><li class="menu-item menu-item-level-1"><span>扩/缩容</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/latest/user_doc/expansion-reduction.html" target="_self">扩/缩容</a></li></ul></li><li class="menu-item menu-item-level-1"><span>FAQ</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/release/faq.html" target="_self">FAQ</a></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>快速试用 Docker 部署</h1>
<h2>先决条件</h2>
<ul>
<li><a href="https://docs.docker.com/engine/install/">Docker</a> 1.13.1+</li>
<li><a href="https://docs.docker.com/compose/">Docker Compose</a> 1.11.0+</li>
</ul>
<h2>如何使用 Docker 镜像</h2>
<p>有 3 种方式可以快速试用 DolphinScheduler</p>
<h3>一、以 docker-compose 的方式启动 DolphinScheduler (推荐)</h3>
<p>这种方式需要先安装 <a href="https://docs.docker.com/compose/">docker-compose</a> , docker-compose 的安装网上已经有非常多的资料，请自行安装即可</p>
<h4>1、下载源码包</h4>
<p>请下载最新版本的源码包，下载地址: <a href="/zh-cn/download/download.html">下载</a></p>
<p>下载 apache-dolphinscheduler-incubating-1.3.5-src.zip 后，解压缩</p>
<pre><code class="language-shell"><span class="hljs-meta">$</span><span class="bash"> unzip apache-dolphinscheduler-incubating-1.3.5-src.zip</span>
</code></pre>
<h4>2、安装并启动服务</h4>
<pre><code class="language-shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> apache-dolphinscheduler-incubating-1.3.5-src-release/docker/docker-swarm</span>
<span class="hljs-meta">$</span><span class="bash"> docker-compose up -d</span>
</code></pre>
<h4>3、登录系统</h4>
<p>访问前端页面： <a href="http://192.168.xx.xx:12345/dolphinscheduler">http://192.168.xx.xx:12345/dolphinscheduler</a></p>
<p>默认的用户是<code>admin</code>，默认的密码是<code>dolphinscheduler123</code></p>
<p align="center">
  <img src="/img/login.png" width="60%" />
</p>
<p>请参考用户手册章节的<a href="/zh-cn/docs/1.3.5/user_doc/quick-start.html">快速上手</a>查看如何使用DolphinScheduler</p>
<h3>二、通过指定已存在的 PostgreSQL 和 ZooKeeper 服务</h3>
<p>这种方式需要先安装 <a href="https://docs.docker.com/engine/install/">docker</a>, docker 的安装网上已经有非常多的资料，请自行安装即可</p>
<h4>1、基础软件安装 (请自行安装)</h4>
<ul>
<li>PostgreSQL (8.2.15+)</li>
<li>ZooKeeper (3.4.6+)</li>
<li>Docker (1.13.1+)</li>
</ul>
<h4>2、请登录 PostgreSQL 数据库，创建名为 <code>dolphinscheduler</code> 数据库</h4>
<h4>3、初始化数据库，导入 <code>sql/dolphinscheduler-postgre.sql</code> 进行创建表及基础数据导入</h4>
<h4>4、下载 DolphinScheduler 镜像</h4>
<p>我们已将面向用户的 DolphinScheduler 镜像上传至 docker 仓库，用户无需在本地构建镜像，直接执行以下命令从 docker 仓库 pull 镜像：</p>
<pre><code>docker pull apache/dolphinscheduler:1.3.5
</code></pre>
<h4>5、运行一个 DolphinScheduler 实例</h4>
<pre><code>$ docker run -d --name dolphinscheduler \
-e DATABASE_HOST=&quot;192.168.x.x&quot; -e DATABASE_PORT=&quot;5432&quot; -e DATABASE_DATABASE=&quot;dolphinscheduler&quot; \
-e DATABASE_USERNAME=&quot;test&quot; -e DATABASE_PASSWORD=&quot;test&quot; \
-e ZOOKEEPER_QUORUM=&quot;192.168.x.x:2181&quot; \
-p 12345:12345 \
apache/dolphinscheduler:1.3.5 all
</code></pre>
<p>注：数据库用户和密码需要替换为具体的数据库用户名和密码，192.168.x.x 需要替换为 zookeeper 和 数据库的主机 IP</p>
<h4>6、登录系统</h4>
<p>同上</p>
<h3>三、运行 DolphinScheduler 中的独立服务</h3>
<p>在容器启动时，会自动启动以下服务：</p>
<pre><code>    MasterServer         ----- master服务
    WorkerServer         ----- worker服务
    LoggerServer         ----- logger服务
    ApiApplicationServer ----- api服务
    AlertServer          ----- alert服务
</code></pre>
<p>如果你只是想运行 dolphinscheduler 中的部分服务</p>
<p>你可以够通执行以下命令来运行dolphinscheduler中的部分服务</p>
<ul>
<li>启动一个 <strong>master server</strong>, 如下:</li>
</ul>
<pre><code>$ docker run -d --name dolphinscheduler-master \
-e DATABASE_HOST=&quot;192.168.x.x&quot; -e DATABASE_PORT=&quot;5432&quot; -e DATABASE_DATABASE=&quot;dolphinscheduler&quot; \
-e DATABASE_USERNAME=&quot;test&quot; -e DATABASE_PASSWORD=&quot;test&quot; \
-e ZOOKEEPER_QUORUM=&quot;192.168.x.x:2181&quot; \
apache/dolphinscheduler:1.3.5 master-server
</code></pre>
<ul>
<li>启动一个 <strong>worker server</strong> (包括 <strong>logger server</strong>), 如下:</li>
</ul>
<pre><code>$ docker run -d --name dolphinscheduler-worker \
-e DATABASE_HOST=&quot;192.168.x.x&quot; -e DATABASE_PORT=&quot;5432&quot; -e DATABASE_DATABASE=&quot;dolphinscheduler&quot; \
-e DATABASE_USERNAME=&quot;test&quot; -e DATABASE_PASSWORD=&quot;test&quot; \
-e ZOOKEEPER_QUORUM=&quot;192.168.x.x:2181&quot; \
apache/dolphinscheduler:1.3.5 worker-server
</code></pre>
<ul>
<li>启动一个 <strong>api server</strong>, 如下:</li>
</ul>
<pre><code>$ docker run -d --name dolphinscheduler-api \
-e DATABASE_HOST=&quot;192.168.x.x&quot; -e DATABASE_PORT=&quot;5432&quot; -e DATABASE_DATABASE=&quot;dolphinscheduler&quot; \
-e DATABASE_USERNAME=&quot;test&quot; -e DATABASE_PASSWORD=&quot;test&quot; \
-e ZOOKEEPER_QUORUM=&quot;192.168.x.x:2181&quot; \
-p 12345:12345 \
apache/dolphinscheduler:1.3.5 api-server
</code></pre>
<ul>
<li>启动一个 <strong>alert server</strong>, 如下:</li>
</ul>
<pre><code>$ docker run -d --name dolphinscheduler-alert \
-e DATABASE_HOST=&quot;192.168.x.x&quot; -e DATABASE_PORT=&quot;5432&quot; -e DATABASE_DATABASE=&quot;dolphinscheduler&quot; \
-e DATABASE_USERNAME=&quot;test&quot; -e DATABASE_PASSWORD=&quot;test&quot; \
apache/dolphinscheduler:1.3.5 alert-server
</code></pre>
<p><strong>注意</strong>: 当你运行dolphinscheduler中的部分服务时，你必须指定这些环境变量 <code>DATABASE_HOST</code>, <code>DATABASE_PORT</code>, <code>DATABASE_DATABASE</code>, <code>DATABASE_USERNAME</code>, <code>DATABASE_PASSWORD</code>, <code>ZOOKEEPER_QUORUM</code>。</p>
<h2>如何构建一个 Docker 镜像</h2>
<p>你可以在类Unix系统和Windows系统中构建一个docker镜像。</p>
<p>类Unix系统, 如下:</p>
<pre><code class="language-bash">$ sh ./docker/build/hooks/build
</code></pre>
<p>Windows系统, 如下:</p>
<pre><code class="language-bat"><span class="hljs-function">C:\<span class="hljs-title">dolphinscheduler</span>&gt;.\<span class="hljs-title">docker</span>\<span class="hljs-title">build</span>\<span class="hljs-title">hooks</span>\<span class="hljs-title">build.bat</span>
</span></code></pre>
<p>如果你不理解 <code>./docker/build/hooks/build</code> <code>./docker/build/hooks/build.bat</code> 这些脚本，请阅读里面的内容</p>
<h2>环境变量</h2>
<p>Docker 容器通过环境变量进行配置，<a href="https://github.com/apache/dolphinscheduler/blob/1.3.5/docker/build/README_zh_CN.md#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">DolphinScheduler Docker 环境变量</a> 列出了 DolphinScheduler 的可配置环境变量及其默认值</p>
<p>特别地，在 Docker Compose 和 Docker Swarm 中，可以分别通过环境变量配置文件 <code>docker-compose.yml</code> 和 <code>docker-stack.yml</code> 进行配置</p>
<h2>FAQ</h2>
<h3>如何通过 docker-compose 停止 DolphinScheduler？</h3>
<p>停止所有容器:</p>
<pre><code>docker-compose stop
</code></pre>
<p>停止所有容器并移除所有容器，网络和存储卷:</p>
<pre><code>docker-compose down -v
</code></pre>
<h3>如何在 Docker Swarm 上部署 DolphinScheduler？</h3>
<p>假设 Docker Swarm 集群已经部署（如果还没有创建 Docker Swarm 集群，请参考 <a href="https://docs.docker.com/engine/swarm/swarm-tutorial/create-swarm/">create-swarm</a>）</p>
<p>启动名为 dolphinscheduler 的 stack</p>
<pre><code>docker stack deploy -c docker-stack.yml dolphinscheduler
</code></pre>
<p>启动并移除名为 dolphinscheduler 的 stack</p>
<pre><code>docker stack rm dolphinscheduler
</code></pre>
<h3>如何用 MySQL 替代 PostgreSQL 作为 DolphinScheduler 的数据库？</h3>
<blockquote>
<p>由于商业许可证的原因，我们不能直接使用 MySQL 的驱动包和客户端.</p>
<p>如果你要使用 MySQL, 你可以基于官方镜像 <code>apache/dolphinscheduler</code> 进行构建.</p>
</blockquote>
<ol>
<li>
<p>下载 MySQL 驱动包 <a href="https://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.49/mysql-connector-java-5.1.49.jar">mysql-connector-java-5.1.49.jar</a> (要求 <code>&gt;=5.1.47</code>)</p>
</li>
<li>
<p>创建一个新的 <code>Dockerfile</code>，用于添加 MySQL 的驱动包和客户端:</p>
</li>
</ol>
<pre><code>FROM apache/dolphinscheduler:1.3.5
COPY mysql-connector-java-5.1.49.jar /opt/dolphinscheduler/lib
RUN apk add --update --no-cache mysql-client
</code></pre>
<ol start="3">
<li>构建一个包含 MySQL 的驱动包和客户端的新镜像:</li>
</ol>
<pre><code>docker build -t apache/dolphinscheduler:mysql .
</code></pre>
<ol start="4">
<li>修改 <code>docker-compose.yml</code> 文件中的所有 image 字段为 <code>apache/dolphinscheduler:mysql</code></li>
</ol>
<blockquote>
<p>如果你想在 Docker Swarm 上部署 dolphinscheduler，你需要修改 <code>docker-stack.yml</code></p>
</blockquote>
<ol start="5">
<li>
<p>注释 <code>docker-compose.yml</code> 文件中的 <code>dolphinscheduler-postgresql</code> 块</p>
</li>
<li>
<p>在 <code>docker-compose.yml</code> 文件中添加 <code>dolphinscheduler-mysql</code> 服务（<strong>可选</strong>，你可以直接使用一个外部的 MySQL 数据库）</p>
</li>
<li>
<p>修改 <code>docker-compose.yml</code> 文件中的所有 DATABASE 环境变量</p>
</li>
</ol>
<pre><code>DATABASE_TYPE: mysql
DATABASE_DRIVER: com.mysql.jdbc.Driver
DATABASE_HOST: dolphinscheduler-mysql
DATABASE_PORT: 3306
DATABASE_USERNAME: root
DATABASE_PASSWORD: root
DATABASE_DATABASE: dolphinscheduler
DATABASE_PARAMS: useUnicode=true&amp;characterEncoding=UTF-8
</code></pre>
<blockquote>
<p>如果你已经添加了 <code>dolphinscheduler-mysql</code> 服务，设置 <code>DATABASE_HOST</code> 为 <code>dolphinscheduler-mysql</code> 即可</p>
</blockquote>
<ol start="8">
<li>运行 dolphinscheduler (详见<strong>如何使用docker镜像</strong>)</li>
</ol>
<h3>如何在数据源中心支持 MySQL 数据源？</h3>
<blockquote>
<p>由于商业许可证的原因，我们不能直接使用 MySQL 的驱动包.</p>
<p>如果你要添加 MySQL 数据源, 你可以基于官方镜像 <code>apache/dolphinscheduler</code> 进行构建.</p>
</blockquote>
<ol>
<li>
<p>下载 MySQL 驱动包 <a href="https://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.49/mysql-connector-java-5.1.49.jar">mysql-connector-java-5.1.49.jar</a> (要求 <code>&gt;=5.1.47</code>)</p>
</li>
<li>
<p>创建一个新的 <code>Dockerfile</code>，用于添加 MySQL 驱动包:</p>
</li>
</ol>
<pre><code>FROM apache/dolphinscheduler:1.3.5
COPY mysql-connector-java-5.1.49.jar /opt/dolphinscheduler/lib
</code></pre>
<ol start="3">
<li>构建一个包含 MySQL 驱动包的新镜像:</li>
</ol>
<pre><code>docker build -t apache/dolphinscheduler:mysql-driver .
</code></pre>
<ol start="4">
<li>将 <code>docker-compose.yml</code> 文件中的所有 image 字段 修改为 <code>apache/dolphinscheduler:mysql-driver</code></li>
</ol>
<blockquote>
<p>如果你想在 Docker Swarm 上部署 dolphinscheduler，你需要修改 <code>docker-stack.yml</code></p>
</blockquote>
<ol start="5">
<li>
<p>运行 dolphinscheduler (详见<strong>如何使用docker镜像</strong>)</p>
</li>
<li>
<p>在数据源中心添加一个 MySQL 数据源</p>
</li>
</ol>
<h3>如何在数据源中心支持 Oracle 数据源？</h3>
<blockquote>
<p>由于商业许可证的原因，我们不能直接使用 Oracle 的驱动包.</p>
<p>如果你要添加 Oracle 数据源, 你可以基于官方镜像 <code>apache/dolphinscheduler</code> 进行构建.</p>
</blockquote>
<ol>
<li>
<p>下载 Oracle 驱动包 <a href="https://repo1.maven.org/maven2/com/oracle/database/jdbc/ojdbc8/">ojdbc8.jar</a> (such as <code>ojdbc8-19.9.0.0.jar</code>)</p>
</li>
<li>
<p>创建一个新的 <code>Dockerfile</code>，用于添加 Oracle 驱动包:</p>
</li>
</ol>
<pre><code>FROM apache/dolphinscheduler:1.3.5
COPY ojdbc8-19.9.0.0.jar /opt/dolphinscheduler/lib
</code></pre>
<ol start="3">
<li>构建一个包含 Oracle 驱动包的新镜像:</li>
</ol>
<pre><code>docker build -t apache/dolphinscheduler:oracle-driver .
</code></pre>
<ol start="4">
<li>将 <code>docker-compose.yml</code> 文件中的所有 image 字段 修改为 <code>apache/dolphinscheduler:oracle-driver</code></li>
</ol>
<blockquote>
<p>如果你想在 Docker Swarm 上部署 dolphinscheduler，你需要修改 <code>docker-stack.yml</code></p>
</blockquote>
<ol start="5">
<li>
<p>运行 dolphinscheduler (详见<strong>如何使用docker镜像</strong>)</p>
</li>
<li>
<p>在数据源中心添加一个 Oracle 数据源</p>
</li>
</ol>
</div></section><footer class="footer-container"><div class="footer-body"><img src="/img/ds_gray.svg"/><div class="cols-container"><div class="col col-12"></div><div class="col col-6"><dl><dt>文档</dt><dd><a href="/zh-cn/development/architecture-design.html" target="_self">概览</a></dd><dd><a href="/zh-cn/docs/latest/user_doc/quick-start.html" target="_self">快速开始</a></dd><dd><a href="/zh-cn/development/backend-development.html" target="_self">开发者指南</a></dd></dl></div><div class="col col-6"><dl><dt>ASF</dt><dd><a href="http://www.apache.org" target="_self">基金会</a></dd><dd><a href="http://www.apache.org/licenses/" target="_self">证书</a></dd><dd><a href="http://www.apache.org/events/current-event" target="_self">事件</a></dd><dd><a href="http://www.apache.org/foundation/sponsorship.html" target="_self">赞助</a></dd><dd><a href="http://www.apache.org/foundation/thanks.html" target="_self">致谢</a></dd></dl></div></div><div class="copyright"><span>Copyright © 2019-2021 The Apache Software Foundation. Apache DolphinScheduler, DolphinScheduler, and its feather logo are trademarks of The Apache Software Foundation.</span></div></div></footer></div></div>
  <script src="//cdn.jsdelivr.net/npm/react@15.6.2/dist/react-with-addons.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/react-dom@15.6.2/dist/react-dom.min.js"></script>
  <script>window.rootPath = '';</script>
  <script src="/build/vendor.c25d3e2.js"></script>
  <script src="/build/docs.md.420c48f.js"></script>
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?4e7b4b400dd31fa015018a435c64d06f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
</body>
</html>